@model Social_Media_Project.Models.Account
@{
    ViewData["Title"] = "Signup";
}
<link href="~/js/toastr.min.css" rel="stylesheet" />
@if (TempData["errorMessage"] != null)
{
    <script>
        toastr.error("@TempData["errorMessage"]");
    </script>
}
@if (TempData["successMessage"] != null)
{
    <script>
        toastr.success("@TempData["successMessage"]");
        
        $(document).ready(function () {
            $("#SignUpForm").addClass('d-none');
            $("#SignUpBioForm").removeClass('d-none');
        });

    </script>
}



<div class="Center-Mobile">
    <div class="d-inline-flex justify-content-between align-items-center">
        <div>
            <form asp-controller="Account" asp-action="Signup" method="post" id="SignUpForm">
                <div class="right-MobileSave">
                    <div class="right-Instagram">
                        Instagram
                    </div>
                    <div>
                        <div class="right-userInfo">
                            <div class="userInfo-Username">
                                <input type="hidden" asp-for="hdnId" value="1" />
                                <input asp-for="Phone" id="Phone" placeholder="Mobile Number" class="input-UserInfo" />
                            </div>
                            <div class="userInfo-Password">
                                <input asp-for="Email" id="Email" placeholder="Email Address" class="input-UserInfo" />
                            </div>
                            <div class="userInfo-Password">
                                <input asp-for="Fullname" id="Fullname" placeholder="Full Name" class="input-UserInfo" />
                            </div>
                            <div class="userInfo-Password">
                                <input asp-for="Username" id="Username" placeholder="Username" class="input-UserInfo" />
                            </div>
                            <div class="userInfo-Password">
                                <input asp-for="Password" id="Password" placeholder="Password" class="input-UserInfo" />
                            </div>
                            <div class="userInfo-Password">
                                <input asp-for="ConfirmPassword" id="ConfirmPassword" placeholder="Confirm Password" class="input-UserInfo" />
                            </div>
                        </div>
                        <div>
                            <button type="submit" class="input-validate">
                                Sign up
                            </button>
                        </div>
                        <div>
                            <p class="text-center">Log in with Facebook</p>
                        </div>
                    </div>
                </div>
                <div class="text-center right-MobileSave Signup-Instagram-Bottom">
                    Have an account?<a href="@Url.Action("Index","Home")">Log in</a>
                </div>
            </form>
            <div class="signUp-LoginBio d-none" id="SignUpBioForm">
                <form asp-controller="Account" asp-action="Signup" method="post" id="bioForm">
                    <input type="hidden" asp-for="Id" />
                    <div class="LoginBio-Data">
                        <label asp-for="ProfilePhoto" class="LoginBio-DataSave">Add Profile Photo</label>
                        <div id="ProfilePhotoPreview" class="mt-2" style="display:flex; justify-content:center;">
                            <img id="previewImage" src="#" alt="Preview" style="max-width: 200px; max-height: 200px; display: none; border: 1px solid black; border-radius: 50%; margin: 10px; padding: 5px;" />
                        </div>
                        <div class="LoginBio-DataSaveDate">
                            <div>
                                <input type="file" id="ProfilePhotoInput" asp-for="ProfilePhoto" onchange="previewProfilePhoto(event)" />
                            </div>
                        </div>
                    </div>
                    <div class="LoginBio-Data">
                        <label asp-for="DateOfBirth" class="LoginBio-DataSave">Date Of Birth</label>
                        <input type="date" asp-for="DateOfBirth" class="LoginBio-DataSaveInput" />
                    </div>
                    <div class="LoginBio-Data">
                        <label asp-for="Bio" class="LoginBio-DataSave">Bio:</label>
                        <textarea type="text" asp-for="Bio" placeholder="Describe yourself" class="LoginBio-DataSaveInput"></textarea>
                    </div>
                    <div>
                        <button type="submit" class="LoginBio-DataSaveInput btnSave">Save</button>
                    </div>
                </form>
            </div>
        </div>


    </div>

</div>
<script type="text/javascript">
    $(document).ready(function () {
        //toastr options
        toastr.options = {
            "closeButton": false,
            "debug": false,
            "newestOnTop": false,
            "progressBar": false,
            "positionClass": "toast-top-right",
            "preventDuplicates": false,
            "onclick": null,
            "showDuration": "300",
            "hideDuration": "1000",
            "timeOut": "5000",
            "extendedTimeOut": "1000",
            "showEasing": "swing",
            "hideEasing": "linear",
            "showMethod": "fadeIn",
            "hideMethod": "fadeOut"
        };

        //form validation
        $("#SignUpForm").validate({
            rules: {
                Phone: { required: true },
                Email: { required: true },
                Fullname: { required: true },
                Username: { required: true },
                Password: { required: true },
                ConfirmPassword: { required: true }
            },
            messages: {
                Phone: { required: "Please enter your phone number." },
                Email: { required: "Please enter your email address." },
                Fullname: { required: "Please enter your full name." },
                Username: { required: "Please enter a username." },
                Password: { required: "Please enter a password." },
                ConfirmPassword: { required: "Please confirm your password." }
            }
        });
    });

    function previewProfilePhoto(event) {
        var input = event.target;
        var preview = document.getElementById('previewImage');

        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                preview.src = e.target.result;
                preview.style.display = 'block';
            }

            reader.readAsDataURL(input.files[0]);
        }
    }
</script>







